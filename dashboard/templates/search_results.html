<html>
<head>
   <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css')}}">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta http-equiv="Content-Type" content="text/html charset=UTF-8" />
</head>
<script type=text/javascript src="{{url_for('static', filename='js/common_function.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/back.js') }}"></script>
<body>
    <table class="t1" summary="Log Analysis Search Report">
      <thead>
            <tr>
            <th rowspan="2">Index</th>
            <th rowspan="2">Job Name</th>
            <th rowspan="2">Object Id</th>
            <th rowspan="2">Build Number</th>
            <th rowspan="2">Failure Message</th>
            <th rowspan="2">Analysis</th>
            <th rowspan="2">Build Status</th>
                <th rowspan="2">Component Version</th>
                <th rowspan="2">Snap/Build Number</th>
                <th colspan="3">Validation</th>
                <th rowspan="2">Build Time</th>
                <th rowspan="2">Systems Log Analysis</th>
        </tr>
            <tr>
            <th>Validation Over Target Machine</th>
            <th>Validation Of Keyword Availability in Log File</th>
                <th>Commands Execution Status in Jenkins Log File</th>
        </tr>
      </thead>
      <tbody>
      {% for comment in List %}
        <tr> <td>{{loop.index}}</td><td> {{comment["Job-Name"]}} </td>
            <td> {{comment["_id"]}}</td> <td>{{comment["Build-Number"]}}</td>
        <td> {{comment["Failure-Message"]}} </td><td> {{comment["Analysis"]}} </td>
        <td> {{comment["Build-Status"]}} </td>
            <td>{{comment["Build-Version"]}}</td> <td>{{comment["Snap-Version"]}}</td>
            <td> {%for i in comment["Validation"]
                ["on_machine_output"] %} <p><b>{{i}}</b> : {{comment["Validation"]
                ["on_machine_output"][i]}}</p>{%endfor%}</td><td>
                {{comment["Validation"]["keyword_availability"]}}
            </td><td>{% for command in comment["Validation"]
                ["All_Commands_Execution_status"]%}<p>
                <b>{{command}}</b>: {{comment["Validation"]
                ["All_Commands_Execution_status"][command]}}
            </p>{%endfor%} </td>
            <td>{{comment["Job-Time-Stamp"]}}</td>
            {% if comment["SystemLog"] %}
            <td><a href=/system_log/{{comment["_id"]}}>Production Log</a></td>
            {%else%}
            <td>No Production log available</td>
            {%endif%}
        </tr>
      {%endfor%}
      </tbody>
      <tfoot>
        <tr>
          <th colspan="15">
            redhat.com
          </th>
        </tr>
      </tfoot>
    </table>
    <button onclick="goBack()">Back</button>
</body>
</html>